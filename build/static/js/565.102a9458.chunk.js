"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[565],{5999:function(e,a,n){n.r(a),n.d(a,{default:function(){return O}});var r=n(9439),s=n(2791),c=n(4270),t=n(3394),i=n(4482),l=n(9613),o=n.p+"static/media/mjolnir.61f31e1809f12183a524.png",h=n(184),d=function(e){var a=e.char,n=a.name,r=a.description,s=a.thumbnail,c=a.homepage,t=a.wiki,i=-1!==s.indexOf("image_not_available")?{objectFit:"contain"}:null;return(0,h.jsxs)("div",{className:"randomchar__block",children:[(0,h.jsx)("img",{src:s,style:i,alt:"Random character",className:"randomchar__img"}),(0,h.jsxs)("div",{className:"randomchar__info",children:[(0,h.jsx)("p",{className:"randomchar__name",children:n}),(0,h.jsx)("p",{className:"randomchar__descr",children:r}),(0,h.jsxs)("div",{className:"randomchar__btns",children:[(0,h.jsx)("a",{href:c,className:"button button__main",children:(0,h.jsx)("div",{className:"inner",children:"homepage"})}),(0,h.jsx)("a",{href:t,className:"button button__secondary",children:(0,h.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},m=function(){var e=(0,s.useState)(null),a=(0,r.Z)(e,2),n=a[0],c=a[1],m=(0,i.Z)(),u=m.loading,_=m.error,j=m.getCharacter,x=m.clearError;(0,s.useEffect)((function(){v()}),[]);var f=function(e){c(e)},v=function(){x();var e=Math.floor(400*Math.random()+1011e3);j(e).then(f)},N=_?(0,h.jsx)(l.Z,{}):null,p=u?(0,h.jsx)(t.Z,{}):null,b=u||_||!n?null:(0,h.jsx)(d,{char:n});return(0,h.jsxs)("div",{className:"randomchar",children:[N,p,b,(0,h.jsxs)("div",{className:"randomchar__static",children:[(0,h.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,h.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,h.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,h.jsx)("button",{onClick:v,className:"button button__main",children:(0,h.jsx)("div",{className:"inner",children:"try it"})}),(0,h.jsx)("img",{src:o,alt:"mjolnir",className:"randomchar__decoration"})]})]})},u=n(3433),_=n(5660),j=n(6983),x=function(e){var a=(0,s.useState)([]),n=(0,r.Z)(a,2),c=n[0],o=n[1],d=(0,s.useState)(!1),m=(0,r.Z)(d,2),x=m[0],f=m[1],v=(0,s.useState)(210),N=(0,r.Z)(v,2),p=N[0],b=N[1],g=(0,s.useState)(!1),k=(0,r.Z)(g,2),y=k[0],Z=k[1],C=(0,i.Z)(),S=C.loading,w=C.error,E=C.getAllCharacters;(0,s.useEffect)((function(){T(p,!0)}),[]);var F,T=function(e,a){f(!a),E(e).then(O)},O=function(e){var a=!1;e.length<9&&(a=!0),o((function(a){return[].concat((0,u.Z)(a),(0,u.Z)(e))})),f(!1),b((function(e){return e+9})),Z(a)},D=(0,s.useRef)([]),M=function(e){D.current.forEach((function(e){return e.classList.remove("char__item_selected")})),D.current[e].classList.add("char__item_selected")},A=(F=c,(0,h.jsx)(_.Z,{component:"ul",className:"char__grid",children:F.map((function(a,n){return(0,h.jsx)(j.Z,{timeout:500,classNames:"chars",children:(0,h.jsxs)("li",{ref:function(e){return D.current[n]=e},className:"char__item",onClick:function(){e.onCharSelected(a.id),M(n)},onKeyDown:function(r){" "!==r.key&&"Enter"!==r.key||(e.onCharSelected(a.id),M(n))},children:[(0,h.jsx)("img",{src:a.thumbnail,style:-1!==a.thumbnail.indexOf("image_not_available")?{objectFit:"unset"}:null,alt:a.name}),(0,h.jsx)("div",{className:"char__name",children:a.name})]})},a.id)}))})),B=w?(0,h.jsx)(l.Z,{}):null,I=S&&!x?(0,h.jsx)(t.Z,{style:{margin:"0 auto"}}):null;return(0,h.jsxs)("div",{className:"char__list",children:[I,B,A,(0,h.jsx)("button",{className:"button button__main button__long",style:{display:y?"none":"block"},disabled:x,onClick:function(){return T(p)},children:(0,h.jsx)("div",{className:"inner",children:"load more"})})]})},f=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,h.jsxs)("div",{className:"skeleton",children:[(0,h.jsxs)("div",{className:"pulse skeleton__header",children:[(0,h.jsx)("div",{className:"pulse skeleton__circle"}),(0,h.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,h.jsx)("div",{className:"pulse skeleton__block"}),(0,h.jsx)("div",{className:"pulse skeleton__block"}),(0,h.jsx)("div",{className:"pulse skeleton__block"})]})]})},v=function(e){var a=e.char,n=a.name,r=a.description,s=a.thumbnail,c=a.homepage,t=a.wiki,i=-1!==s.indexOf("image_not_available")?{objectFit:"contain"}:null;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"char__basics",children:[(0,h.jsx)("img",{src:s,style:i,alt:n}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"char__info-name",children:n}),(0,h.jsxs)("div",{className:"char__btns",children:[(0,h.jsx)("a",{href:c,className:"button button__main",children:(0,h.jsx)("div",{className:"inner",children:"homepage"})}),(0,h.jsx)("a",{href:t,className:"button button__secondary",children:(0,h.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,h.jsx)("div",{className:"char__descr",children:r}),(0,h.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,h.jsx)("ul",{className:"char__comics-list",children:(0,h.jsx)(N,{char:a})})]})},N=function(e){var a=e.char;return a.comics.length<1?"Sorry... There is no comic with this caracter":a.comics.map((function(e,a){return(0,h.jsx)("li",{className:"char__comics-item",children:e.name},a)}))},p=function(e){var a=(0,s.useState)(null),n=(0,r.Z)(a,2),c=n[0],o=n[1],d=(0,i.Z)(),m=d.loading,u=d.error,_=d.getCharacter,j=d.clearError;(0,s.useEffect)((function(){N()}),[]),(0,s.useEffect)((function(){N()}),[e.charId]);var x=function(e){o(e)},N=function(){var a=e.charId;a&&(j(),_(a).then(x))},p=c||m||u?null:(0,h.jsx)(f,{}),b=u?(0,h.jsx)(l.Z,{}):null,g=m?(0,h.jsx)(t.Z,{}):null,k=m||u||!c?null:(0,h.jsx)(v,{char:c});return(0,h.jsxs)("div",{className:"char__info",children:[p,b,g,k]})},b=n(5671),g=n(9466),k=n(136),y=n(7277),Z=function(e){(0,k.Z)(n,e);var a=(0,y.Z)(n);function n(){var e;(0,b.Z)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={error:!1},e}return(0,g.Z)(n,[{key:"componentDidCatch",value:function(e,a){console.log(e,a),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,h.jsx)(l.Z,{}):this.props.children}}]),n}(s.Component),C=Z,S=n(5705),w=n(1087),E=function(e){var a={};return e.charName||(a.charName="This field is required"),a},F=function(){var e=(0,s.useState)(null),a=(0,r.Z)(e,2),n=a[0],c=a[1],t=(0,i.Z)(),o=t.error,d=t.clearError,m=t.getCharacterByName,u=function(e){c(e)},_=(0,S.TA)({initialValues:{charName:""},validate:E,onSubmit:function(e){return a=e.charName,d(),void m(a).then(u);var a}}),j=o?(0,h.jsx)(l.Z,{}):null,x=n?n.length>0?(0,h.jsxs)("div",{className:"search__wrapper",children:[(0,h.jsxs)("div",{className:"search-success",children:["There is! Visit ",(0,h.jsx)("span",{style:{textDecoration:"underline"},children:n[0].name})," page?"]}),(0,h.jsx)(w.rU,{to:"/characters/".concat(n[0].id),className:"button button__secondary",children:(0,h.jsx)("div",{className:"inner",children:"To page"})})]}):(0,h.jsx)("div",{className:"error",children:"The character was not found. Check the name and try again"}):null;return(0,h.jsxs)("form",{className:"form",onSubmit:_.handleSubmit,children:[(0,h.jsx)("h2",{className:"form__title",children:"Or find a character by name:"}),(0,h.jsx)("input",{id:"charName",type:"text",name:"charName",placeholder:"Enter name",value:_.values.charName,onChange:_.handleChange,onBlur:_.handleBlur}),(0,h.jsx)("button",{type:"submit",className:"button button__main",children:(0,h.jsx)("div",{className:"inner",children:"Find"})}),_.errors.charName&&_.touched.charName?(0,h.jsx)("div",{className:"error",children:_.errors.charName}):null,j,x]})},T=n.p+"static/media/vision.067d4ae1936d64a577ce.png",O=function(){var e=(0,s.useState)(null),a=(0,r.Z)(e,2),n=a[0],t=a[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.q,{children:[(0,h.jsx)("meta",{name:"description",content:"Marvel information portal"}),(0,h.jsx)("title",{children:"Marvel information portal"})]}),(0,h.jsx)(C,{children:(0,h.jsx)(m,{})}),(0,h.jsxs)("div",{className:"char__content",children:[(0,h.jsx)(C,{children:(0,h.jsx)(x,{onCharSelected:function(e){t(e)}})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(C,{children:(0,h.jsx)(p,{charId:n})}),(0,h.jsx)(C,{children:(0,h.jsx)(F,{})})]})]}),(0,h.jsx)("img",{className:"bg-decoration",src:T,alt:"vision"})]})}}}]);
//# sourceMappingURL=565.102a9458.chunk.js.map