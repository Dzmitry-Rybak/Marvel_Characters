"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[565],{5999:function(e,a,n){n.r(a),n.d(a,{default:function(){return T}});var r=n(9439),s=n(2791),c=n(3394),t=n(4482),i=n(9613),l=n.p+"static/media/mjolnir.61f31e1809f12183a524.png",o=n(184),h=function(e){var a=e.char,n=a.name,r=a.description,s=a.thumbnail,c=a.homepage,t=a.wiki,i=-1!==s.indexOf("image_not_available")?{objectFit:"contain"}:null;return(0,o.jsxs)("div",{className:"randomchar__block",children:[(0,o.jsx)("img",{src:s,style:i,alt:"Random character",className:"randomchar__img"}),(0,o.jsxs)("div",{className:"randomchar__info",children:[(0,o.jsx)("p",{className:"randomchar__name",children:n}),(0,o.jsx)("p",{className:"randomchar__descr",children:r}),(0,o.jsxs)("div",{className:"randomchar__btns",children:[(0,o.jsx)("a",{href:c,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"homepage"})}),(0,o.jsx)("a",{href:t,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},d=function(){var e=(0,s.useState)(null),a=(0,r.Z)(e,2),n=a[0],d=a[1],m=(0,t.Z)(),u=m.loading,_=m.error,j=m.getCharacter,x=m.clearError;(0,s.useEffect)((function(){v()}),[]);var f=function(e){d(e)},v=function(){x();var e=Math.floor(400*Math.random()+1011e3);j(e).then(f)},N=_?(0,o.jsx)(i.Z,{}):null,b=u?(0,o.jsx)(c.Z,{}):null,p=u||_||!n?null:(0,o.jsx)(h,{char:n});return(0,o.jsxs)("div",{className:"randomchar",children:[N,b,p,(0,o.jsxs)("div",{className:"randomchar__static",children:[(0,o.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,o.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,o.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,o.jsx)("button",{onClick:v,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"try it"})}),(0,o.jsx)("img",{src:l,alt:"mjolnir",className:"randomchar__decoration"})]})]})},m=n(3433),u=n(5660),_=n(6983),j=function(e){var a=(0,s.useState)([]),n=(0,r.Z)(a,2),l=n[0],h=n[1],d=(0,s.useState)(!1),j=(0,r.Z)(d,2),x=j[0],f=j[1],v=(0,s.useState)(210),N=(0,r.Z)(v,2),b=N[0],p=N[1],g=(0,s.useState)(!1),k=(0,r.Z)(g,2),y=k[0],Z=k[1],C=(0,t.Z)(),S=C.loading,w=C.error,E=C.getAllCharacters;(0,s.useEffect)((function(){T(b,!0)}),[]);var F,T=function(e,a){f(!a),E(e).then(O)},O=function(e){var a=!1;e.length<9&&(a=!0),h((function(a){return[].concat((0,m.Z)(a),(0,m.Z)(e))})),f(!1),p((function(e){return e+9})),Z(a)},D=(0,s.useRef)([]),A=function(e){D.current.forEach((function(e){return e.classList.remove("char__item_selected")})),D.current[e].classList.add("char__item_selected")},B=(F=l,(0,o.jsx)(u.Z,{component:"ul",className:"char__grid",children:F.map((function(a,n){return(0,o.jsx)(_.Z,{timeout:500,classNames:"chars",children:(0,o.jsxs)("li",{ref:function(e){return D.current[n]=e},className:"char__item",onClick:function(){e.onCharSelected(a.id),A(n)},onKeyDown:function(r){" "!==r.key&&"Enter"!==r.key||(e.onCharSelected(a.id),A(n))},children:[(0,o.jsx)("img",{src:a.thumbnail,style:-1!==a.thumbnail.indexOf("image_not_available")?{objectFit:"unset"}:null,alt:a.name}),(0,o.jsx)("div",{className:"char__name",children:a.name})]})},a.id)}))})),I=w?(0,o.jsx)(i.Z,{}):null,R=S&&!x?(0,o.jsx)(c.Z,{style:{margin:"0 auto"}}):null;return(0,o.jsxs)("div",{className:"char__list",children:[R,I,B,(0,o.jsx)("button",{className:"button button__main button__long",style:{display:y?"none":"block"},disabled:x,onClick:function(){return T(b)},children:(0,o.jsx)("div",{className:"inner",children:"load more"})})]})},x=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,o.jsxs)("div",{className:"skeleton",children:[(0,o.jsxs)("div",{className:"pulse skeleton__header",children:[(0,o.jsx)("div",{className:"pulse skeleton__circle"}),(0,o.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,o.jsx)("div",{className:"pulse skeleton__block"}),(0,o.jsx)("div",{className:"pulse skeleton__block"}),(0,o.jsx)("div",{className:"pulse skeleton__block"})]})]})},f=function(e){var a=e.char,n=a.name,r=a.description,s=a.thumbnail,c=a.homepage,t=a.wiki,i=-1!==s.indexOf("image_not_available")?{objectFit:"contain"}:null;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"char__basics",children:[(0,o.jsx)("img",{src:s,style:i,alt:n}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"char__info-name",children:n}),(0,o.jsxs)("div",{className:"char__btns",children:[(0,o.jsx)("a",{href:c,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"homepage"})}),(0,o.jsx)("a",{href:t,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,o.jsx)("div",{className:"char__descr",children:r}),(0,o.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,o.jsx)("ul",{className:"char__comics-list",children:(0,o.jsx)(v,{char:a})})]})},v=function(e){var a=e.char;return a.comics.length<1?"Sorry... There is no comic with this caracter":a.comics.map((function(e,a){return(0,o.jsx)("li",{className:"char__comics-item",children:e.name},a)}))},N=function(e){var a=(0,s.useState)(null),n=(0,r.Z)(a,2),l=n[0],h=n[1],d=(0,t.Z)(),m=d.loading,u=d.error,_=d.getCharacter,j=d.clearError;(0,s.useEffect)((function(){N()}),[]),(0,s.useEffect)((function(){N()}),[e.charId]);var v=function(e){h(e)},N=function(){var a=e.charId;a&&(j(),_(a).then(v))},b=l||m||u?null:(0,o.jsx)(x,{}),p=u?(0,o.jsx)(i.Z,{}):null,g=m?(0,o.jsx)(c.Z,{}):null,k=m||u||!l?null:(0,o.jsx)(f,{char:l});return(0,o.jsxs)("div",{className:"char__info",children:[b,p,g,k]})},b=n(5671),p=n(9466),g=n(136),k=n(7277),y=function(e){(0,g.Z)(n,e);var a=(0,k.Z)(n);function n(){var e;(0,b.Z)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={error:!1},e}return(0,p.Z)(n,[{key:"componentDidCatch",value:function(e,a){console.log(e,a),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,o.jsx)(i.Z,{}):this.props.children}}]),n}(s.Component),Z=y,C=n(5705),S=n(1087),w=function(e){var a={};return e.charName||(a.charName="This field is required"),a},E=function(){var e=(0,s.useState)(null),a=(0,r.Z)(e,2),n=a[0],c=a[1],l=(0,t.Z)(),h=l.error,d=l.clearError,m=l.getCharacterByName,u=function(e){c(e)},_=(0,C.TA)({initialValues:{charName:""},validate:w,onSubmit:function(e){return a=e.charName,d(),void m(a).then(u);var a}}),j=h?(0,o.jsx)(i.Z,{}):null,x=n?n.length>0?(0,o.jsxs)("div",{className:"search__wrapper",children:[(0,o.jsxs)("div",{className:"search-success",children:["There is! Visit ",(0,o.jsx)("span",{style:{textDecoration:"underline"},children:n[0].name})," page?"]}),(0,o.jsx)(S.rU,{to:"/characters/".concat(n[0].id),className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"To page"})})]}):(0,o.jsx)("div",{className:"error",children:"The character was not found. Check the name and try again"}):null;return(0,o.jsxs)("form",{className:"form",onSubmit:_.handleSubmit,children:[(0,o.jsx)("h2",{className:"form__title",children:"Or find a character by name:"}),(0,o.jsx)("input",{id:"charName",type:"text",name:"charName",placeholder:"Enter name",value:_.values.charName,onChange:_.handleChange,onBlur:_.handleBlur}),(0,o.jsx)("button",{type:"submit",className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"Find"})}),_.errors.charName&&_.touched.charName?(0,o.jsx)("div",{className:"error",children:_.errors.charName}):null,j,x]})},F=n.p+"static/media/vision.067d4ae1936d64a577ce.png",T=function(){var e=(0,s.useState)(null),a=(0,r.Z)(e,2),n=a[0],c=a[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z,{children:(0,o.jsx)(d,{})}),(0,o.jsxs)("div",{className:"char__content",children:[(0,o.jsx)(Z,{children:(0,o.jsx)(j,{onCharSelected:function(e){c(e)}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(Z,{children:(0,o.jsx)(N,{charId:n})}),(0,o.jsx)(Z,{children:(0,o.jsx)(E,{})})]})]}),(0,o.jsx)("img",{className:"bg-decoration",src:F,alt:"vision"})]})}}}]);
//# sourceMappingURL=565.2ecaa249.chunk.js.map